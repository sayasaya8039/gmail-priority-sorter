# 【Chrome拡張機能】Gmailの受信トレイを自動で優先度分類！「Gmail Priority Sorter」を作ってみた

## はじめに

毎日大量に届くメール、どれから対応すればいいか迷ったことはありませんか？

「緊急のメールを見逃していた...」
「重要なメールが埋もれていた...」

そんな経験、ありますよね。

そこで、**Gmailの受信トレイを自動で分析し、メールの優先度を判定してくれるChrome拡張機能**を作りました！

## Gmail Priority Sorter とは？

Gmail Priority Sorterは、受信トレイのメールを自動で分析し、以下の機能を提供します：

- **緊急度スコア（0-100）** を各メールに自動付与
- **優先度ラベル**（緊急/高/中/低）で4段階に分類
- **カテゴリアイコン** でメールの種類を一目で把握
- **サイドパネル** で統計や設定をすぐに確認

すべての処理はローカルで行われるため、**メールの内容が外部に送信されることはありません**。

## 主な機能

### 1. 自動優先度分類

メールの件名、送信者、本文のスニペットを分析して、自動的に優先度を判定します。

| 優先度 | スコア | 説明 |
|--------|--------|------|
| 🔴 緊急 | 80-100 | 即座に対応が必要 |
| 🟠 高 | 60-79 | 早めの対応が望ましい |
| 🔵 中 | 40-59 | 通常の優先度 |
| ⚪ 低 | 0-39 | 時間のある時に確認 |

### 2. カテゴリ自動分類

メールを9種類のカテゴリに自動分類します：

| カテゴリ | アイコン | 例 |
|---------|---------|-----|
| 緊急 | 🚨 | 「至急」「緊急」を含むメール |
| 重要 | ⭐ | 重要な内容を含むメール |
| 会議 | 📅 | 会議招待、Zoomリンク |
| 要対応 | 📋 | 「確認してください」「返信お願い」 |
| 参考 | 📝 | 情報共有目的のメール |
| ニュース | 📰 | ニュースレター |
| プロモ | 🏷️ | セール、キャンペーン |
| SNS | 💬 | Twitter、Facebook通知 |
| その他 | 📧 | 上記以外 |

### 3. サイドパネル

拡張機能アイコンをクリックすると、サイドパネルが開きます。

**統計タブ**
- 優先度別のメール件数
- クイック設定（ON/OFF切り替え）
- 分類済みメール一覧

**VIP/無視タブ**
- VIPリスト：常に高優先度にしたい送信者を登録
- 無視リスト：低優先度にしたい送信者を登録

**ルールタブ**
- カスタムルールの管理
- ルールのON/OFF切り替え

### 4. Gmailタブ切り替え対応

Gmailの「メイン」「プロモーション」「ソーシャル」などのタブを切り替えても、自動的にアイコンが再適用されます。

## インストール方法

### 1. ソースコードを取得

```bash
git clone https://github.com/sayasaya8039/gmail-priority-sorter.git
cd gmail-priority-sorter
```

### 2. ビルド

```bash
npm install
npm run build
```

### 3. Chromeに読み込み

1. Chromeで `chrome://extensions/` を開く
2. 右上の「デベロッパーモード」をONにする
3. 「パッケージ化されていない拡張機能を読み込む」をクリック
4. `Gmail_Priority_Sorter` フォルダを選択

これで完了です！

## 使い方

### 基本的な使い方

1. **Gmailを開く**
   - https://mail.google.com にアクセス
   - 自動的にメールが分類されます

2. **サイドパネルを開く**
   - 拡張機能アイコンをクリック
   - 統計や設定を確認できます

3. **設定をカスタマイズ**
   - VIPリストに重要な送信者を追加
   - 不要なメールの送信者を無視リストに追加

### VIPリストの活用

上司や重要なクライアントのメールアドレスをVIPリストに登録すると、常に高優先度として表示されます。

```
例：
- boss@company.com
- @important-client.co.jp（ドメイン全体を指定）
```

### 無視リストの活用

ニュースレターや通知メールなど、すぐに対応が不要な送信者を登録できます。

```
例：
- newsletter@service.com
- @notification.example.com
```

## 技術的な話

### 使用技術

- **React 19** + **TypeScript**
- **Vite** + **CRXJS**（Chrome拡張機能ビルド）
- **Chrome Extension Manifest V3**
- **Side Panel API**（サイドパネル機能）

### 分類アルゴリズム

1. **キーワードマッチング**
   - 件名と本文スニペットをキーワードリストと照合
   - カテゴリごとに重み付けしたスコアを計算

2. **状態による加点**
   - 未読メール: +10点
   - スター付き: +15点
   - VIPリスト: +30点
   - 無視リスト: -40点

3. **優先度判定**
   - スコアに基づいて4段階の優先度を決定

### プライバシーへの配慮

- すべての処理はローカルで実行
- メール内容は一切外部に送信しません
- 設定はChromeの同期ストレージに保存

## 今後の予定

- [ ] 英語キーワードの拡充
- [ ] 機械学習による分類精度向上
- [ ] メールの自動アーカイブ機能
- [ ] 通知機能（高優先度メール受信時）

## まとめ

Gmail Priority Sorterを使えば、大量のメールの中から重要なメールをすぐに見つけることができます。

**こんな人におすすめ：**
- 毎日大量のメールを受信する人
- 重要なメールを見逃したくない人
- メール対応の優先順位付けに時間がかかる人

ぜひ試してみてください！

---

**GitHub**: https://github.com/sayasaya8039/gmail-priority-sorter

フィードバックやバグ報告はGitHubのIssuesからお願いします。

---

#Chrome拡張機能 #Gmail #生産性向上 #メール管理 #React #TypeScript
